---
title: "Shade-Optimized Pedestrian Routing"
subtitle: "LiDAR-Based Shadow Modeling for Heat-Resilient Urban Mobility"
author: "Kavana Raju | MUSA 5500 Final Project"
date: "12 December 2025"
format:
  html:
    toc: false
---

::: {.hero}
# Shade-Optimized Pedestrian Routing

**University City, Philadelphia**

Using High-Resolution LiDAR to Map Shadow Coverage Across 23,486 Street Segments

[Explore Interactive Map â†’](interactive.qmd){.btn .btn-primary}
[View Results â†’](results.qmd){.btn}
:::

---

## At a Glance

![Complete Analysis Dashboard - Network Statistics and Temporal Variation](figures/dashboard_summary.png){width=100%}

---

## The Problem

### Urban Heat is Intensifying

**Climate data shows:**

- Philadelphia summers now average 5-7Â°F warmer than 1970s
- Heat waves lasting 5+ days increasingly common
- Surface temperatures in sun can reach 130Â°F+
- Shade can reduce temperatures by **15-30Â°F**

### But Routing Apps Ignore Shade

**Current navigation apps optimize for:**

- Distance
- Time
- Traffic
- **Not for Thermal Comfort**

**Result:** Pedestrians get routed through "shade deserts" during summer heat.

---

## My Solution

### LiDAR-Based Shade Modeling + Smart Routing

![Study Area Coverage](figures/study_area_overview.png){width=100%}

**What I built:**

1. **Accurate Shadow Modeling**
   - Real building heights from LiDAR (not estimates)
   - Individual tree heights (2.1M+ trees)
   - Geometric shadow projection
   - 8 temporal scenarios (seasons + times of day)

2. **Shade-Weighted Routing**
   - Balance distance vs. thermal comfort
   - Acceptable trade-offs (10-15% detour for 30-50% more shade)
   - Real-time calculation (<100ms per route)

3. **Interactive Web Tool**
   - Click-to-route interface
   - Scenario selector
   - Works in browser (no app install)
   - Free and open-source

---

## Key Findings

### Finding 1: Massive Temporal Variation

![Summer vs Winter Shade Coverage Comparison](figures/summer_vs_winter_comparison.png){width=100%}

**2.5x difference in shade availability:**

- **Winter Morning:** 61.5% average network shade
- **Summer Midday:** 24.2% average network shade

**Implication:** Routing strategies must be time-aware.

---

### Finding 2: Buildings vs Trees Play Different Roles

![Building and Tree Shade Contributions](figures/building_vs_tree_contribution.png){width=100%}

**Winter:** Buildings dominate (74.4% contribution)

- Low sun creates long building shadows
- Trees less effective (deciduous leaf loss)

**Summer:** Trees become critical (35.9% vs 16.3%)

- High sun reduces building shadows
- Tree canopies provide primary shade

**Implication:** Need BOTH building design AND tree canopy programs.

---

### Finding 3: Shade Deserts Identified

![Shade Corridors Map: Red = Intervention Priorities](figures/shade_corridors_map.png){width=100%}

---

## How It Works

### 1. Data Collection

**High-resolution inputs:**

- LiDAR point clouds (USGS 3DEP)
- Building footprints (PASDA)
- Individual tree heights (2.1M points)
- Transit network (SEPTA GTFS)

**Coverage:**

- 4.2 square miles
- 23,486 street segments
- 99.7% LiDAR height coverage

---

### 2. Shadow Calculation

**Geometric modeling:**

For each building/tree at height $h$ with sun at altitude $\alpha$:

$$\text{shadow\_length} = \frac{h}{\tan(\alpha)}$$

**8 scenarios modeled:**

- Summer: Morning, Midday, Evening
- Winter: Morning, Midday, Evening
- Spring/Fall: Midday

![All Temporal Scenarios](figures/shade_heatmap_all_scenarios.png){width=100%}

---

### 3. Route Optimization

**Shade-weighted cost function:**

$$\text{cost} = \text{length} \times (1 - 0.3 \times \text{shade})$$

**Interpretation:**

- 100% shade segment â†’ 30% cost reduction
- 0% shade segment â†’ No discount
- Algorithm balances shade benefit vs distance penalty

![Temporal Variation in Mean Shade](figures/temporal_comparison.png){width=100%}

---

### 4. Interactive Deployment

**Web-based routing calculator:**

- Click map to set origin/destination
- Instant route calculation (client-side)
- Compare shortest vs shadiest
- Switch between 8 scenarios

[**Try it now â†’**](interactive.qmd){.btn .btn-primary}

---

## Results Summary

### Network Statistics

::: {.grid}

::: {.g-col-3}
**Network Size**  
23,486 segments  
27 miles analyzed
:::

::: {.g-col-3}
**Best Shade**  
Winter Morning  
61.5% average
:::

::: {.g-col-3}
**Worst Shade**  
Summer Midday  
24.2% average
:::

::: {.g-col-3}
**Typical Trade-off**  
+10-15% distance  
+30-50% shade
:::

:::

---

### Distribution Analysis

![Shade Score Distributions Across Scenarios](figures/shade_distributions.png){width=100%}

**Pattern:**

- **Summer midday:** Right-skewed (most segments low shade)
- **Winter morning:** Left-skewed (most segments high shade)
- **Spring/Fall:** Normal distribution (moderate shade)

---

### Statistical Comparison

![Box Plot Analysis](figures/shade_boxplot_comparison.png){width=100%}

**Variability:**

- Winter shows tighter distributions (consistent shade; sun below horizon in the evening)
- Summer shows wider spread (variable conditions)
- Outliers in all scenarios (extreme high/low shade streets)

---

## Practical Applications

### For Pedestrians

**Summer Strategy:**

1. Use shade routing during 10 AM - 4 PM
2. Accept 10-15% longer routes for 40% more shade

**Winter Strategy:**

1. Shortest path usually sufficient (abundant shade)
2. Focus on safety (ice) rather than shade

---

## Project Impact

### Academic Contribution

**Methodology:**

- Replicable framework for other cities
- Integration of remote sensing + network analysis
- Novel shade-weighted routing approach

**Documentation:**

- Complete code notebooks (4 published)
- Step-by-step technical guide
- Open-source deployment

---

### Policy Relevance

**Actionable recommendations:**

- Priority corridors identified
- Integration with climate adaptation planning

**Stakeholder engagement:**

- City planning departments
- SEPTA transit authority
- Community organizations
- Public health officials

---

### Public Benefit

**Expected outcomes:**

- Reduced heat exposure for vulnerable populations
- Improved pedestrian comfort during heat events
- Evidence-based tree planting priorities
- Free routing tool for all users

---

## Explore More

### Website Navigation

::: {.grid}

::: {.g-col-4}
**ðŸ“Š [Results](results.qmd)**

Complete analysis showing network patterns, temporal variation, and policy recommendations
:::

::: {.g-col-4}
**ðŸ”¬ [Methodology](methodology.qmd)**

Detailed technical documentation of data collection, shadow modeling, and routing algorithms
:::

::: {.g-col-4}
**ðŸ—ºï¸ [Interactive Map](interactive.qmd)**

Try the routing calculator - click to plan your own shade-optimized routes
:::

:::

::: {.grid}

::: {.g-col-6}
**ðŸ“š [Technical Appendix](appendix.qmd)**

Access all 4 code notebooks, data dictionary, and references
:::

::: {.g-col-6}
**ðŸ’» [GitHub Repository](#)**

Download code, data, and documentation
:::

:::

---

## About This Project

**Course:** MUSA 5500 - Geospatial Data Science with Python

**Institution:** University of Pennsylvania

**Semester:** Fall 2025

**Student:** Kavana Raju  

---

## Acknowledgments

**Data Sources:**

- USGS 3D Elevation Program (LiDAR)
- Pennsylvania Spatial Data Access (Buildings)
- OpenStreetMap (Network)
- SEPTA (Transit data)

**Software:**

- Python geospatial stack (GeoPandas, Rasterio, NetworkX)
- Quarto publishing system
- Leaflet.js mapping library

---

## Contact & Feedback

**Questions?** Email: [kavana@upenn.edu]  
**Code:** [https://github.com/kavanaraju/Pedestrian-Shade-Routing]

---

*This project demonstrates the application of advanced geospatial analysis to real-world urban planning challenges, combining remote sensing, network analysis, and web development to create actionable tools for climate-adapted urban mobility.*

**Built for heat-resilient cities**
